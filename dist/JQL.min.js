!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.JQL=e()}(this,function(){var t=["~","~~","=","==","===","!=","!==","<",">","<=",">="].map(function(t){return"\\"+t}).join("|");const u=["&&","||"].map(function(t){return"\\"+t}).join("|"),c=`(\\w+) (${t}) (\\w+)`;function i(t){if(!(t&&t instanceof Array))throw new Error("Data is invalid or is not a valid array");return this.items=t,this.length=t.length,this.select=e,this.where=n,this.data=o,this.array=o,this.result=o,this.count=r,this.log=a,this.table=h,this.dir=l,this}function s(t,e){if(!t&&"string"!=typeof t||!e)return!1;let n,i=[];const s=new RegExp(`(?:${c})*(${u})*`,"gm");for(;n=s.exec(t);)n.index===s.lastIndex&&s.lastIndex++,n[0]&&i.push(n[0]);let r=[];for(let t=0;t<i.length;t++){var o=i[t];2<o.length&&(o=function(t,e){let n,i=[];const s=new RegExp(c,"gm");for(;null!==(n=s.exec(t));)n.index===s.lastIndex&&s.lastIndex++,n.forEach((t,e)=>{i[e]=t});let r=i[1],o=i[2],u=i[3];if(!r||!o||!u)return!1;switch("true"==u&&(u=!0),"false"==u&&(u=!1),/^\d+$/.test(u)&&(u=parseInt(u)),o){case"~":return e[r].includes(u);case"=":case"==":return e[r]==u;case"===":return e[r]===u;case"!=":return e[r]!=u;case"!==":return e[r]!==u;case"<":return e[r]<u;case"<=":return e[r]<=u;case">":return e[r]>u;case">=":return e[r]>=u;default:return!1}}(o,e),r.push(o))}return i.includes("&&")?!r.includes(!1):!!r.includes(!0)}function e(t){return new i(result)}function n(t){if(!t)throw new Error("Expression is invalid");for(var e=[],n=0;n<this.items.length;n++)("string"==typeof t?s(t,this.items[n]):t(this.items[n]))&&e.push(this.items[n]);return new i(e)}function r(){console.log(this.length)}function o(){return this.items}function l(){console.dir(this.items,{depth:null})}function a(t=!0){"boolean"==typeof t&&t?console.log(this.items):console.log(this)}function h(t=!1){console.table(this.items,t)}return function(t){return new i(t)}});