const a=10,f="(\\w+) (~|~~|=|==|===|!=|!==|<|>|<=|>=) (\\w+)",g=`(?:${f})*(\&&|\||)*`;!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.JQL=e()}(this,function(){function u(t){if(!(t&&t instanceof Array))throw new Error("JQL: Invalid array");return this.items=t,this.length=t.length,this.select=e,this.where=i,this.limit=r,this.array=o,this.data=o,this.result=o,this.count=l,this.log=m,this.table=c,this.dir=h,this}function s(t,e,i){console.group(`%c[JQL] ${t} â€“ ${e}`,"padding: 7px 20px; font-size: 13px; color: white; background: #111; background: linear-gradient(90deg, #E58E03 2.5%, #111 2.5%, #111 97.5%, #E58E03 97.5%);"),i(),console.groupEnd()}function n(t,e){if(!t&&"string"!=typeof t||!e)return!1;let i,n=[];const s=new RegExp(g,"gm");for(;i=s.exec(t);)i.index===s.lastIndex&&s.lastIndex++,i[0]&&n.push(i[0]);let r=[];for(let t=0;t<n.length;t++){var o=n[t];2<o.length&&r.push(function(t,e){let i,n=[];const s=new RegExp(f,"gm");for(;null!==(i=s.exec(t));)i.index===s.lastIndex&&s.lastIndex++,i.forEach((t,e)=>{n[e]=t});let r=n[1],o=n[2],l=n[3];if(!r||!o||!l)return!1;switch("null"==l&&(l=null),"true"==l&&(l=!0),"false"==l&&(l=!1),/^\d+$/.test(l)&&(l=parseInt(l)),/^\d.\d+$/.test(l)&&(l=parseFloat(l)),o){case"~":return e[r].includes(l);case"=":case"==":return e[r]==l;case"===":return e[r]===l;case"!=":return e[r]!=l;case"!==":return e[r]!==l;case"<":return e[r]<l;case"<=":return e[r]<=l;case">":return e[r]>l;case">=":return e[r]>=l;default:return!1}}(o,e))}return n.includes("&&")?!r.includes(!1):!!r.includes(!0)}function e(n){if(!n||"*"===n)return new u(this.items);if(n&&"string"!=typeof n&&"array"!=typeof n)throw new Error("JQL: .select() is invalid");var s=[],r={},o={};"string"==typeof n&&(n=n.split(/[\s,]+/)?n.split(/[\s,]+/):[n]);for(let e=0,i=0;e<this.items.length;e++){var l=this.items[e];for(let t=0;t<n.length;t++){for(var h in l)h==n[t]&&(o[h]=this.items[e][h],r[i]={...o});t==n.length-1&&(s[i]=r[i],i++)}}return new u(s)}function i(t){if(!t)throw new Error("JQL: .where() Is invalid");for(var e=[],i=0;i<this.items.length;i++)("string"==typeof t?n(t,this.items[i]):t(this.items[i]))&&e.push(this.items[i]);return new u(e)}function r(t=!1){if(0==t||null==t)return new u(this.items);if(t&&t<0)throw new Error("Value must be greater or equals zero");for(var e=[],i=0;i<this.items.length;i++)e.push(this.items[i]);return new u(e.slice(0,t))}function o(){return this.items}function l(){return this.length}function h(t={}){t.items=void 0===t.items||t.items,t.limit=void 0!==t.limit?t.limit:a,t.options=void 0!==t.options&&t.options;let e,i,n;n="boolean"==typeof t.items&&t.items?(i=t.limit<this.length?t.limit:this.length,e=`Showing: ${i} of ${this.length} elements`,this.limit(t.limit).items):(e="Constructor",this),s("Dir",e,()=>{console.dir(n,t.options)})}function m(t={}){t.items=void 0===t.items||t.items,t.limit=void 0!==t.limit?t.limit:a;let e,i,n;n="boolean"==typeof t.items&&t.items?(i=t.limit<this.length?t.limit:this.length,e=`Showing: ${i} of ${this.length} elements`,this.limit(t.limit).items):(e="Constructor",this),s("Log",e,()=>{console.log(n)})}function c(t={}){t.columns=void 0!==t.columns&&t.columns,t.limit=void 0!==t.limit?t.limit:a;s("Table",`Showing: ${t.limit<this.length?t.limit:this.length} of ${this.length} elements`,()=>{console.table(this.limit(t.limit).items,t.columns)})}return function(t){return new u(t)}});