!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.JQL=e()}(this,function(){const a=["~","~~","=","==","===","!=","!==","<",">","<=",">="].map(function(t){return"\\"+t}).join("|");function i(t){if(!(t&&t instanceof Array))throw new Error("Data is invalid or is not a valid array");return this.items=t,this.length=t.length,this.select=e,this.where=n,this.compare=r,this.data=o,this.array=o,this.result=o,this.count=s,this.log=f,this.table=c,this.dir=u,this}function r(t,e){if(!t&&"string"!=typeof t||!e)return!1;let n=[];const i=new RegExp(`(\\w+) (${a}) (\\w+)`,"gm");for(;null!==(m=i.exec(t));)m.index===i.lastIndex&&i.lastIndex++,m.forEach((t,e)=>{n[e]=t});let r=n[1],s=n[2],o=n[3];if(!r||!s||!o)return!1;switch("true"==o&&(o=!0),"false"==o&&(o=!1),/^\d+$/.test(o)&&(o=parseInt(o)),s){case"~":if(e[r].includes(o))return!0;break;case"=":case"==":if(e[r]==o)return!0;break;case"===":if(e[r]===o)return!0;break;case"!=":if(e[r]!=o)return!0;break;case"!==":if(e[r]!==o)return!0;break;case"<":if(e[r]<o)return!0;break;case"<=":if(e[r]<=o)return!0;break;case">":if(e[r]>o)return!0;break;case">=":if(e[r]>=o)return!0;break;default:return!1}}function e(t){return new i(result)}function n(t){if(!t)throw new Error("Expression is invalid");for(var e=[],n=0;n<this.items.length;n++)("string"==typeof t?r(t,this.items[n]):t(this.items[n]))&&e.push(this.items[n]);return new i(e)}function s(){console.log(this.length)}function o(){return this.items}function u(){console.dir(this.items,{depth:null})}function f(t=!0){"boolean"==typeof t&&t?console.log(this.items):console.log(this)}function c(t=!1){console.table(this.items,t)}return function(t){return new i(t)}});