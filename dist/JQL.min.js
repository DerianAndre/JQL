!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.JQL=e()}(this,function(){var t=["~","~~","=","==","===","!=","!==","<",">","<=",">="].map(function(t){return"\\"+t}).join("|");const u=["&&","||"].map(function(t){return"\\"+t}).join("|"),c=`(\\w+) (${t}) (\\w+)`;function r(t){if(!(t&&t instanceof Array))throw new Error("Data is invalid or is not a valid array");return this.items=t,this.length=t.length,this.select=e,this.where=n,this.data=o,this.array=o,this.result=o,this.count=s,this.log=l,this.table=h,this.dir=a,this}function i(t,e){if(!t&&"string"!=typeof t||!e)return!1;let n,r=[];const i=new RegExp(`(?:${c})*(${u})*`,"gm");for(;n=i.exec(t);)n.index===i.lastIndex&&i.lastIndex++,n[0]&&r.push(n[0]);let s=[];for(let t=0;t<r.length;t++){var o=r[t];2<o.length&&(o=function(t,e){let n,r=[];const i=new RegExp(c,"gm");for(;null!==(n=i.exec(t));)n.index===i.lastIndex&&i.lastIndex++,n.forEach((t,e)=>{r[e]=t});let s=r[1],o=r[2],u=r[3];if(!s||!o||!u)return!1;switch("true"==u&&(u=!0),"false"==u&&(u=!1),/^\d+$/.test(u)&&(u=parseInt(u)),o){case"~":return e[s].includes(u);case"=":case"==":return e[s]==u;case"===":return e[s]===u;case"!=":return e[s]!=u;case"!==":return e[s]!==u;case"<":return e[s]<u;case"<=":return e[s]<=u;case">":return e[s]>u;case">=":return e[s]>=u;default:return!1}}(o,e),s.push(o))}return r.includes("&&")?!s.includes(!1):!!s.includes(!0)}function e(t){return new r(result)}function n(t){if(!t)throw new Error("Expression is invalid");for(var e=[],n=0;n<this.items.length;n++)("string"==typeof t?i(t,this.items[n]):t(this.items[n]))&&e.push(this.items[n]);return new r(e)}function s(){return this.length}function o(){return this.items}function a(t=!1){return console.dir(this.items,t),this.items}function l(t=!0){"boolean"==typeof t&&t?console.log(this.items):console.log(this)}function h(t=!1){return console.table(this.items,t),this.items}return function(t){return new r(t)}});